<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simon's Profile</title>
    <link rel="stylesheet" href="styles.css?v=2">
</head>
<body>
    <div id="musicNotes" class="music-notes">
        <div class="note">‚ô™</div>
        <div class="note">‚ô´</div>
        <div class="note">‚ô©</div>
        <div class="note">‚ô¨</div>
    </div>
    <div id="nowPlayingToast" class="now-playing-toast"></div>
    <button id="musicBtn" style="position: fixed; top: 20px; right: 20px; background: none; border: none; font-size: 2.5rem; cursor: pointer; z-index: 1002; opacity: 0.7;" title="Toggle Playlist">üìª</button>
    <header>
        <nav>
            <ul>
                <li><a href="#about">About Me</a></li>
                <li><a href="#school">School Life</a></li>
                <li><a href="#interests">Interests</a></li>
                <li><a href="#fun-facts">Fun Facts</a></li>
                <li><a href="#games">Games</a></li>
            </ul>
        </nav>
    </header>

    <!-- Music Players -->
    <!-- Audio handled via JavaScript -->

    <script>
        let isPlaying = false;
        // Reuse a single Audio object for better iOS compatibility
        const audioPlayer = new Audio();
        
        // Playlist of music files in the /music directory
        // TODO: Update these filenames to match the actual .wav files in your /music folder
        const playlist = [
            'music/message_1.wav',
            'music/message_2.wav',
            'music/message_3.wav',
            'music/message_4.wav',
            'music/message_5.wav',
            'music/message_6.wav',
            'music/message_7.wav',
            'music/message_8.wav',
            'music/message_9.wav',
            'music/message_10.wav'
        ];

        const musicBtn = document.getElementById('musicBtn');
        const musicNotes = document.getElementById('musicNotes');
        const nowPlayingToast = document.getElementById('nowPlayingToast');
        let toastTimeout;
        
        // Setup event listeners for the audio player
        audioPlayer.onended = function() {
            if (isPlaying) playRandomSong();
        };
        
        audioPlayer.onerror = function(e) {
            console.log("Audio error:", e);
            if (isPlaying) setTimeout(playRandomSong, 1000);
        };
            
        function showNowPlaying(songPath) {
            const filename = songPath.split('/').pop().split('.')[0];
            // Format: message_1 -> Message 1
            const songName = filename.replace(/_/g, ' ').replace(/\b\w/g, l => l.toUpperCase());
            
            nowPlayingToast.textContent = `üéµ Now Playing: ${songName}`;
            nowPlayingToast.classList.add('show');
            
            if (toastTimeout) clearTimeout(toastTimeout);
            toastTimeout = setTimeout(() => {
                nowPlayingToast.classList.remove('show');
            }, 3000);
        }

        function playRandomSong() {
            if (playlist.length === 0) return;

            // Pick a random song
            const randomIndex = Math.floor(Math.random() * playlist.length);
            const songPath = playlist[randomIndex];
            
            audioPlayer.src = songPath;
            audioPlayer.volume = 0.5;
            
            audioPlayer.play().catch(e => console.log("Audio play failed:", e));
            showNowPlaying(songPath);
        }
        
        musicBtn.addEventListener('click', function() {
            if (!isPlaying) {
                isPlaying = true;
                playRandomSong();
                musicBtn.style.opacity = '1';
                musicNotes.classList.add('playing');
            } else {
                isPlaying = false;
                audioPlayer.pause();
                musicBtn.style.opacity = '0.7';
                musicNotes.classList.remove('playing');
            }
        });
    </script>

    <main>
        <section id="about" class="hero">
            <div class="container">
                <h1>Hello, I'm Simon!</h1>
                <p>A Canadian boy living in Mississauga, Ontario since 2015</p>
            </div>
        </section>

        <section id="school" class="section">
            <div class="container">
                <h2>My Element School Life</h2>
                <p>I'm currently in Grade 5,2026 at <a href="https://fairview.peelschools.org/" target="_blank">Fairview PS</a></p>
                <p> I am going to graduate in June 2026 from Fairview PS.</p>
                <p>I hope you enjoy my <a href="#games">games</a>!</p>
                <div class="map-container" style="margin: 20px 0; border-radius: 10px; overflow: hidden; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                    <iframe width="100%" height="450" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="https://maps.google.com/maps?q=3590%20Joan%20Dr%2C%20Mississauga%2C%20ON%20L5B%201T8%2C%20Canada&t=&z=15&ie=UTF8&iwloc=&output=embed"></iframe>
                    <div style="text-align: center; padding: 15px; background: #fff;">
                        <a href="https://www.google.com/maps/dir/?api=1&destination=3590+Joan+Dr,+Mississauga,+ON+L5B+1T8,+Canada" target="_blank" style="display: inline-block; padding: 10px 20px; background-color: #4285f4; color: white; text-decoration: none; border-radius: 5px; font-weight: bold;">Get Directions</a>
                    </div>
                </div>
                <div class="subjects">
                    <h3>My Subjects</h3>
                    <ul class="subjects-list">
                        <li>
                            <strong>Mathematics</strong>
                            <p>Learning about geometry, fractions, decimals, and multiplication</p>
                        </li>
                        <li>
                            <strong>Language</strong>
                            <p>Reading comprehension, creative writing, and grammar</p>
                        </li>
                        <li>
                            <strong>Science</strong>
                            <p>Exploring habitats, simple machines, and light & sound</p>
                        </li>
                        <li>
                            <strong>Social Studies</strong>
                            <p>Learning about early societies and Canadian geography</p>
                        </li>
                        <li>
                            <strong>Physical Education</strong>
                            <p>Team sports, fitness activities, and movement skills</p>
                        </li>
                        <li>
                            <strong>Health</strong>
                            <p>Learning about healthy living, nutrition, and personal well-being</p>
                        </li>
                        <li>
                            <strong>EML (Empowering Modern Learners)</strong>
                            <p>Coding, digital literacy, music technology, and library research skills</p>
                        </li>
                        <li>
                            <strong>Integrated Arts</strong>
                            <p>Combining visual arts, music, and creative expression</p>
                        </li>
                        <li>
                            <strong>Art</strong>
                            <p>Drawing techniques, color theory, and artistic projects</p>
                        </li>
                        <li>
                            <strong>Drama</strong>
                            <p>Role-playing, storytelling, and stage performance</p>
                        </li>
                    </ul>
                </div>
            </div>
        </section>

        <section id="interests" class="section">
            <div class="container">
                <h2>My Interests</h2>
                <div class="interests-grid">
                    <div class="interest-card">
                        <img src="images/learning.svg" alt="Learning" class="interest-image">
                        <h3>Learning</h3>
                        <p>I enjoy exploring new subjects and expanding my knowledge</p>
                    </div>
                    <div class="interest-card">
                        <img src="images/languages.svg" alt="Languages" class="interest-image">
                        <h3>Languages</h3>
                        <p>I can speak both English and Mandarin</p>
                    </div>
                    <div class="interest-card">
                        <img src="images/problem-solving.svg" alt="Problem Solving" class="interest-image">
                        <h3>Problem Solving</h3>
                        <p>I love tackling challenging puzzles and problems</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="fun-facts" class="section">
            <div class="container">
                <h2>Fun Facts About Me</h2>
                <div class="fun-facts-list">
                    <div class="fact">
                        <img src="images/rubiks.svg" alt="Rubik's Cube" class="fact-image">
                        <h3>üßä Rubik's Cube Master</h3>
                        <p>I know how to solve a Rubik's cube!</p>
                    </div>
                    <div class="fact">
                        <img src="images/bilingual.svg" alt="Bilingual" class="fact-image">
                        <h3>üó£Ô∏è Bilingual</h3>
                        <p>I can speak both Mandarin and English fluently</p>
                    </div>
                    <div class="fact">
                        <img src="images/extrovert.svg" alt="Extrovert" class="fact-image">
                        <h3>üë• Extrovert</h3>
                        <p>I'm a very extroverted person who loves meeting new people</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="games" class="section">
            <div class="container">
                <h2>My Games</h2>
                <p>Here are some games I've created with the help of Cascade in Windsurf:</p>
                
                <div class="game-container">
                    <h3>Snake Game</h3>
                    <p>Use arrow keys to move the snake. Collect different fruits for varying points:</p>
                    <ul class="fruit-guide">
                        <li>üçé Apple = 10 points</li>
                        <li>üçå Banana = 15 points</li>
                        <li>üçä Orange = 5 points</li>
                    </ul>
                    <div class="game-wrapper snake-wrapper">
                        <div class="snake-play">
                            <canvas id="snakeCanvas" width="640" height="640"></canvas>
                            <button id="startGameBtn" class="start-button">Start Game</button>
                        </div>
                        <aside class="game-sidebar">
                            <div class="high-score-box">
                                <h4>High Score</h4>
                                <div id="highScore">0</div>
                            </div>
                        </aside>
                    </div>
                </div>

                <div class="game-container">
                    <h3>Infinite Craft</h3>
                    <p>Combine elements to discover new ones! Start with the basic elements (Water, Fire, Earth, Air) and see what you can create.</p>
                    <div class="craft-game">
                        <div class="craft-stats">
                            <span id="discoveredCount">Discovered: 0/0</span>
                            <div class="data-controls">
                                <button id="exportDataBtn" class="data-button">Export Data</button>
                                <button id="importDataBtn" class="data-button">Import Data</button>
                                <button id="resetGameBtn" class="data-button warning">Reset Game</button>
                            </div>
                        </div>
                        <div id="craftWorkspace" class="craft-workspace">
                            <div class="workspace-hint">Drag elements here to combine them!</div>
                        </div>
                        <div id="elementsList" class="elements-list">
                            <!-- Elements will be added here -->
                        </div>
                    </div>
                </div>

                <div class="game-container">
                    <h3>Incline</h3>
                    <p>Use left/right arrow keys to steer the ball down an endless incline. Avoid obstacles as speed increases.</p>
                    <div class="game-wrapper incline-wrapper">
                        <div class="incline-play">
                            <canvas id="inclineCanvas" width="900" height="400"></canvas>
                            <button id="inclineStartBtn" class="start-button">Start Game</button>
                        </div>
                        <aside class="game-sidebar">
                            <div class="score-box">
                                <h4>Score</h4>
                                <div id="inclineScore">0</div>
                            </div>
                            <div class="high-score-box">
                                <h4>High Score</h4>
                                <div id="inclineHighScore">0</div>
                            </div>
                        </aside>
                    </div>
                </div>
            </div>
        </section>
    </main>
    <footer>
        <p>&copy; 2024 Simon. All rights reserved.</p>
    </footer>
    <!-- Load scripts at the end of body -->
    <script src="games/config.js?v=2"></script>
    <script src="games/fruits.js?v=2"></script>
    <script src="games/snake.js?v=2"></script>
    <script src="games/craft.js?v=2"></script>
    <script src="games/incline.js?v=2"></script>
</body>
</html>
